<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Document</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="description" content="Description" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <link rel="stylesheet" href="../local/vue.css" />

    <link rel="stylesheet" href="style/jquery-ui.min.css" />
    <link rel="stylesheet" href="style/style.css?v=4" />
    <script src="script/jquery.min.js"></script>
    <script src="script/jquery-ui.min.js"></script>
    <style>
      .select-word span {
        padding-left: 15px;

        display: inline-block;
      }
      .waitmove {
        border: 1px dashed red;
        padding: 10px;
      }
      .move {
        background: pink;
        cursor: pointer;
        /* max-width: 1px;
        max-height: 1px; */
        overflow: hidden;
      }

      .note {
        padding: 25px;
        background: #eee;
        border-radius: 5px;
        margin: 15px;

        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <article class="markdown-section" id="main">
      <ol class="note">
        <li>可以拖动已经选择的单词到另一个单词上面，以调整顺序</li>
        <li>双击已选择的单词，可以删除掉</li>
      </ol>
      <h1 id="第一节-单数代词及冠词的用法">
        <a
          href="#/./f001?id=%e7%ac%ac%e4%b8%80%e8%8a%82-%e5%8d%95%e6%95%b0%e4%bb%a3%e8%af%8d%e5%8f%8a%e5%86%a0%e8%af%8d%e7%9a%84%e7%94%a8%e6%b3%95"
          data-id="第一节-单数代词及冠词的用法"
          class="anchor"
          ><span>第一节 单数代词及冠词的用法</span></a
        >
      </h1>
      <h4>句型练习</h4>
      <ol>
        <li>
          <ul>
            <li>我是一个男孩（boy）。</li>
            <li class="select-wordli">
              <div class="select-word ui-sortable">
                <span class="selected-word">I</span
                ><span class="selected-word">am</span
                ><span class="selected-word">a</span
                ><span class="selected-word">boy.</span>

                <span class="selected-word">she</span
                  ><span class="selected-word">is</span
                  ><span class="selected-word">a</span
                  ><span class="selected-word">butiful</span>
                  <span class="selected-word">girl.</span>
              </div>
            </li>
            <li>
              <button>boy.</button><button>a</button><button>am</button
              ><button>I</button>
            </li>
            <li>
              <button>重置</button
              ><a
                href="https://dict.youdao.com/dictvoice?audio=I+am+a+boy.&amp;le=eng&amp;le=eng&amp;type=2"
                >播放</a
              >
            </li>
            <li></li>
          </ul>
        </li>
        <li>
          <ul>
            <li>你是一位老师（teacher）。</li>
            <li><div class="select-word ui-sortable"></div></li>
            <li>
              <button>You</button><button>are</button><button>teacher.</button
              ><button>a</button>
            </li>
            <li>
              <button>重置</button
              ><a
                href="https://dict.youdao.com/dictvoice?audio=You+are+a+teacher.&amp;le=eng&amp;le=eng&amp;type=2"
                >播放</a
              >
            </li>
            <li></li>
          </ul>
        </li>
        <li>
          <ul>
            <li>他是一个学生（student）。</li>
            <li><div class="select-word ui-sortable"></div></li>
            <li>
              <button>is</button><button>He</button><button>a</button
              ><button>student.</button>
            </li>
            <li>
              <button>重置</button
              ><a
                href="https://dict.youdao.com/dictvoice?audio=He+is+a+student.&amp;le=eng&amp;le=eng&amp;type=2"
                >播放</a
              >
            </li>
            <li></li>
          </ul>
        </li>
        <li>
          <ul>
            <li>她是一位医生（doctor）。</li>
            <li><div class="select-word ui-sortable"></div></li>
            <li>
              <button>doctor.</button><button>is</button><button>a</button
              ><button>She</button>
            </li>
            <li>
              <button>重置</button
              ><a
                href="https://dict.youdao.com/dictvoice?audio=She+is+a+doctor.&amp;le=eng&amp;le=eng&amp;type=2"
                >播放</a
              >
            </li>
            <li></li>
          </ul>
        </li>
        <li>
          <ul>
            <li>它是一本书（book）。</li>
            <li><div class="select-word ui-sortable"></div></li>
            <li>
              <button>book.</button><button>a</button><button>is</button
              ><button>It</button>
            </li>
            <li>
              <button>重置</button
              ><a
                href="https://dict.youdao.com/dictvoice?audio=It+is+a+book.&amp;le=eng&amp;le=eng&amp;type=2"
                >播放</a
              >
            </li>
            <li></li>
          </ul>
        </li>
        <li>
          <ul>
            <li>它是一只狗（dog）。</li>
            <li><div class="select-word ui-sortable"></div></li>
            <li>
              <button>dog.</button><button>is</button><button>a</button
              ><button>It</button>
            </li>
            <li>
              <button>重置</button
              ><a
                href="https://dict.youdao.com/dictvoice?audio=It+is+a+dog.&amp;le=eng&amp;le=eng&amp;type=2"
                >播放</a
              >
            </li>
            <li></li>
          </ul>
        </li>
        <li>
          <ul>
            <li>这个是一把椅子（chair）。</li>
            <li><div class="select-word ui-sortable"></div></li>
            <li>
              <button>is</button><button>chair.</button><button>This</button
              ><button>a</button>
            </li>
            <li>
              <button>重置</button
              ><a
                href="https://dict.youdao.com/dictvoice?audio=This+is+a+chair.&amp;le=eng&amp;le=eng&amp;type=2"
                >播放</a
              >
            </li>
            <li></li>
          </ul>
        </li>
        <li>
          <ul>
            <li>那个是一辆车（car）。</li>
            <li><div class="select-word ui-sortable"></div></li>
            <li>
              <button>car.</button><button>a</button><button>is</button
              ><button>That</button>
            </li>
            <li>
              <button>重置</button
              ><a
                href="https://dict.youdao.com/dictvoice?audio=That+is+a+car.&amp;le=eng&amp;le=eng&amp;type=2"
                >播放</a
              >
            </li>
            <li></li>
          </ul>
        </li>
        <li>
          <ul>
            <li>它是一个苹果（an apple）。</li>
            <li><div class="select-word ui-sortable"></div></li>
            <li>
              <button>is</button><button>It</button><button>apple.</button
              ><button>an</button>
            </li>
            <li>
              <button>重置</button
              ><a
                href="https://dict.youdao.com/dictvoice?audio=It+is+an+apple.&amp;le=eng&amp;le=eng&amp;type=2"
                >播放</a
              >
            </li>
            <li></li>
          </ul>
        </li>
        <li>
          <ul>
            <li>这个是一个苹果。</li>
            <li><div class="select-word ui-sortable"></div></li>
            <li>
              <button>apple.</button><button>is</button><button>This</button
              ><button>an</button>
            </li>
            <li>
              <button>重置</button
              ><a
                href="https://dict.youdao.com/dictvoice?audio=This+is+an+apple.&amp;le=eng&amp;le=eng&amp;type=2"
                >播放</a
              >
            </li>
            <li></li>
          </ul>
        </li>
        <li>
          <ul>
            <li>那个是一个苹果。</li>
            <li><div class="select-word ui-sortable"></div></li>
            <li>
              <button>is</button><button>apple.</button><button>That</button
              ><button>an</button>
            </li>
            <li>
              <button>重置</button
              ><a
                href="https://dict.youdao.com/dictvoice?audio=That+is+an+apple.&amp;le=eng&amp;le=eng&amp;type=2"
                >播放</a
              >
            </li>
            <li></li>
          </ul>
        </li>
        <li>
          <ul>
            <li>它是一架飞机（an airplane）。</li>
            <li><div class="select-word ui-sortable"></div></li>
            <li>
              <button>It</button><button>airplane.</button><button>is</button
              ><button>an</button>
            </li>
            <li>
              <button>重置</button
              ><a
                href="https://dict.youdao.com/dictvoice?audio=It+is+an+airplane.&amp;le=eng&amp;le=eng&amp;type=2"
                >播放</a
              >
            </li>
            <li></li>
          </ul>
        </li>
        <li>
          <ul>
            <li>这个是一架飞机。</li>
            <li><div class="select-word ui-sortable"></div></li>
            <li>
              <button>airplane.</button><button>an</button><button>is</button
              ><button>This</button>
            </li>
            <li>
              <button>重置</button
              ><a
                href="https://dict.youdao.com/dictvoice?audio=This+is+an+airplane.&amp;le=eng&amp;le=eng&amp;type=2"
                >播放</a
              >
            </li>
            <li></li>
          </ul>
        </li>
        <li>
          <ul>
            <li>那个是一架飞机。</li>
            <li><div class="select-word ui-sortable"></div></li>
            <li>
              <button>is</button><button>That</button><button>airplane.</button
              ><button>an</button>
            </li>
            <li>
              <button>重置</button
              ><a
                href="https://dict.youdao.com/dictvoice?audio=That+is+an+airplane.&amp;le=eng&amp;le=eng&amp;type=2"
                >播放</a
              >
            </li>
            <li></li>
          </ul>
        </li>
      </ol>
      <a href="https://eva-grammer.github.io/question/#/./f002" target="_self"
        >下一节</a
      ><br /><br /><textarea rows="10"></textarea>
    </article>

    <script>
      function draggableHandle(li_word) {
        $(".select-word span")
          .draggable({
            containment: ".select-wordli",
            cursor: "move",
            stop: function (event, ui) {
              console.log("stop ", event, ui);
              ui.helper.removeClass("move");
              //ui.helper.html(ui.helper.attr("oldValue"));
              ui.helper.css({ top: 0, left: 0 });
              $(".select-word span").removeClass("waitmove");
            },
            start: function (event, ui) {
              ui.helper.addClass("move");
              ui.helper.attr("oldValue", ui.helper.html());
              //  ui.helper.empty();
              console.log("stop ", event, ui);
              $(".select-word span").addClass("waitmove");
            },
          })
          .droppable({
            drop: function (event, ui) {
              ui.helper.removeClass("move");
              ui.helper.html(ui.helper.attr("oldValue"));
              console.log("drop ", event, ui);
              ui.helper.css({ top: 0, left: 0 });
              ui.helper.insertBefore(event.target);
              $(".select-word span").removeClass("waitmove");
            },
          });
      }
      $("button").click(function (event) {
        var word = event.target.textContent;
        $($(event.target.parentElement).prev().children(0)).append(
          "<span class='selected-word'>" + word + "</span>"
        );
        draggableHandle();
      });

      $(".select-word").delegate("span", "dblclick", function (e) {
        console.log(e);
      });

      (function ($) {
        $.support.touch = true; // typeof Touch === 'object';

        if (!$.support.touch) {
          return;
        }

        var proto = $.ui.mouse.prototype,
          _mouseInit = proto._mouseInit;

        $.extend(proto, {
          _getElementToBind: function () {
            const el = this.element;
            return el;
          },

          _mouseInit: function () {
            this._getElementToBind().bind(
              "touchstart." + this.widgetName,
              $.proxy(this, "_touchStart")
            );
            _mouseInit.apply(this, arguments);
          },

          _touchStart: function (event) {
            if (event.originalEvent.targetTouches.length != 1) {
              return false;
            }

            if (!this._mouseCapture(event, false)) {
              // protects things like the "handle" option on sortable
              return true;
            }

            this.element
              .bind("touchmove." + this.widgetName, $.proxy(this, "_touchMove"))
              .bind("touchend." + this.widgetName, $.proxy(this, "_touchEnd"));

            this._modifyEvent(event);

            $(document).trigger($.Event("mouseup")); // reset mouseHandled flag in ui.mouse
            this._mouseDown(event);

            return false;
          },

          _touchMove: function (event) {
            this._modifyEvent(event);
            this._mouseMove(event);
          },

          _touchEnd: function (event) {
            this.element
              .unbind("touchmove." + this.widgetName)
              .unbind("touchend." + this.widgetName);
            this._mouseUp(event);
          },

          _modifyEvent: function (event) {
            event.which = 1;
            var target = event.originalEvent.targetTouches[0];
            event.pageX = target.clientX;
            event.pageY = target.clientY;
          },
        });
      })(jQuery);
    </script>
  </body>
</html>
